export const description =
  "On this page, weâ€™ll dive into the Tables endpoints you can use to manage tables programmatically.";

# Tables

On this page we'll dive into the Tables endpoint you can use to manage Data Sources' Tables
programmatically. Tables let you insert tabular data that can be queried by an assistant using the
`Query Tables` action (Generates a SQL query that is then run on your tabular data and whose results
are presented to the assistant to generate its reply).

## Authentication

All requests to the Dust API must be authenticated using an `Authentication` header. The value of
this header must be the string _Bearer_ followed by a space and your API key. You can find your API
key in your account's **API keys** panel.

## The Column model

The Column model represents a column in a Data Source Table, in particular its name and value type.

### Properties

<Properties>
  <Property name="name" type="string">
    The name of the colunn.
  </Property>
  <Property name="value_type" type="string">
    The type of the column, one of `int`, `float`, `text`.
  </Property>
  <Property name="possible_values" type="string[]">
    If the cardinality of the column is low, the possible values of the column.
  </Property>
</Properties>

## The Table model

The Table model represents a Data Source Table.

### Properties

<Properties>
  <Property name="table_id" type="string">
    The table ID as specified or generated at creation.
  </Property>
  <Property name="table_name" type="string">
    The table name as specified at creation.
  </Property>
  <Property name="description" type="string">
    The description of the table (used by the model to generate SQL query).
  </Property>
  <Property name="schema" type="Column[]">
   The schema of the table as specified at data upload.
  </Property>
</Properties>

---

## Create a Table {{ tag: 'POST', label: '/v1/w/:workspace_id/data_sources/:data_source_name/tables' }}

<Row>
  <Col>

    This endpoint enables you to create a new Table within an existing Data Source. Table name must
    be unique within the Data Source.

    ### URL attributes

    <Properties>
      <Property name="workspace_id" type="string">
        The ID of your workspace (can be found in the Data Source's URL)
      </Property>
      <Property name="data_source_name" type="string">
        The name of the Data Source you want to add a Table to.
      </Property>
    </Properties>

    ### JSON body attributes

    Attributes are passed as a JSON object in the request body.

    <Properties>
      <Property name="name" type="string">
        The name of the Table to create (must be unique within a Data Source).
      </Property>
      <Property name="description" type="string">
        The description of the Table (used by the model to generate SQL query).
      </Property>
    </Properties>

    ### Optional JSON body attributes

    <Properties>
      <Property name="table_id" type="string">
        A unique ID for the Table. If not specified, a random unique ID will be generated.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/w/:workspace_id/data_sources/:data_source_name/tables">

    ```bash {{ title: 'cURL' }}
    curl https://dust.tt/api/v1/w/3e26b0e764/data_sources/foo/tables \
      -H "Authorization: Bearer sk-..." \
      -H "Content-Type: application/json" \
      -d '{
        "name": "customers",
        "description": "Table containing our customer data."
      }'
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "table": {
        "data_source_id": "foo",
        "created":1709127589841,
        "table_id":"015001320f",
        "name":"customers",
        "description":"Table containing our customer data.",
        "schema":null
      }
    }
    ```

  </Col>
</Row>
---

## Retrieve a Table {{ tag: 'GET', label: '/v1/w/:workspace_id/data_sources/:data_source_name/tables/:table_id' }}

<Row>
  <Col>

    This endpoint enables you to retrieve a Table by ID.

    ### URL attributes

    <Properties>
      <Property name="workspace_id" type="string">
        The ID of your workspace (can be found in the Data Source's URL)
      </Property>
      <Property name="data_source_name" type="string">
        The name of the Data Source you want to retrieve the Table from.
      </Property>
      <Property name="table_id" type="string">
        The ID of the Table you want to retrieve.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/w/:workspace_id/data_sources/:data_source_name/talbes/:table_id">

    ```bash {{ title: 'cURL' }}
    curl https://dust.tt/api/v1/w/3e26b0e764/data_sources/foo/tables/015001320f \
      -H "Authorization: Bearer sk-..."
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "table": {
        "data_source_id": "foo",
        "created":1709127589841,
        "table_id":"015001320f",
        "name":"customers",
        "description":"Table containing our customer data.",
        "schema":null
      }
    }
    ```

  </Col>
</Row>

---

