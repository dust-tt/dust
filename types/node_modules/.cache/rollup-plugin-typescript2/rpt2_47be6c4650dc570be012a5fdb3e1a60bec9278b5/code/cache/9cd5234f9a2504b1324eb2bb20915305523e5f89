{"code":"import { slugify } from \"./string_utils\";\nexport class InvalidStructuredDataHeaderError extends Error {\n}\nexport function getSanitizedHeaders(rawHeaders) {\n    return rawHeaders.reduce((acc, curr) => {\n        const slugifiedName = slugify(curr);\n        if (!acc.includes(slugifiedName) || !slugifiedName.length) {\n            acc.push(slugifiedName);\n        }\n        else {\n            let conflictResolved = false;\n            for (let i = 2; i < 64; i++) {\n                if (!acc.includes(slugify(`${slugifiedName}_${i}`))) {\n                    acc.push(slugify(`${slugifiedName}_${i}`));\n                    conflictResolved = true;\n                    break;\n                }\n            }\n            if (!conflictResolved) {\n                throw new InvalidStructuredDataHeaderError(`Failed to generate unique slugified name for header \"${curr}\" after multiple attempts.`);\n            }\n        }\n        return acc;\n    }, []);\n}\n//# sourceMappingURL=structured_data.js.map","references":["/Users/edouardwautier/Projects/dust/types/src/shared/utils/string_utils.ts"],"map":"{\"version\":3,\"file\":\"structured_data.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/shared/utils/structured_data.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,MAAM,gBAAgB,CAAC;AAEzC,MAAM,OAAO,gCAAiC,SAAQ,KAAK;CAAG;AAE9D,MAAM,UAAU,mBAAmB,CAAC,UAAoB;IACtD,OAAO,UAAU,CAAC,MAAM,CAAW,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE;QAC/C,MAAM,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;QAEpC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;YACzD,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SACzB;aAAM;YACL,IAAI,gBAAgB,GAAG,KAAK,CAAC;YAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;gBAC3B,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,aAAa,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE;oBACnD,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,aAAa,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC3C,gBAAgB,GAAG,IAAI,CAAC;oBACxB,MAAM;iBACP;aACF;YAED,IAAI,CAAC,gBAAgB,EAAE;gBACrB,MAAM,IAAI,gCAAgC,CACxC,wDAAwD,IAAI,4BAA4B,CACzF,CAAC;aACH;SACF;QACD,OAAO,GAAG,CAAC;IACb,CAAC,EAAE,EAAE,CAAC,CAAC;AACT,CAAC\"}"}
