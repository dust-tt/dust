{"code":"import { assertNever } from \"../../shared/utils/assert_never\";\nexport function isAgentConfigurationInList(agent) {\n    if (agent.status !== \"active\") {\n        return false;\n    }\n    switch (agent.scope) {\n        case \"global\":\n            return true;\n        case \"workspace\": {\n            switch (agent.relationOverride) {\n                case \"in-list\":\n                    return true;\n                case \"not-in-list\":\n                    return false;\n                case null:\n                    return true;\n                default:\n                    assertNever(agent.relationOverride);\n            }\n            return true;\n        }\n        case \"published\": {\n            switch (agent.relationOverride) {\n                case \"in-list\":\n                    return true;\n                case \"not-in-list\":\n                    return false;\n                case null:\n                    return false;\n                default:\n                    assertNever(agent.relationOverride);\n            }\n            return false;\n        }\n        case \"private\":\n            return false;\n        default:\n            assertNever(agent.scope);\n    }\n}\n//# sourceMappingURL=agent.js.map","references":["/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/database.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/dust_app_run.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/retrieval.ts","/Users/edouardwautier/Projects/dust/types/src/front/lib/assistant.ts","/Users/edouardwautier/Projects/dust/types/src/shared/model_id.ts","/Users/edouardwautier/Projects/dust/types/src/shared/utils/assert_never.ts"],"map":"{\"version\":3,\"file\":\"agent.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/front/assistant/agent.ts\"],\"names\":[],\"mappings\":\"AAKA,OAAO,EAAE,WAAW,EAAE,MAAM,iCAAiC,CAAC;AA8H9D,MAAM,UAAU,0BAA0B,CACxC,KAA6B;IAE7B,IAAI,KAAK,CAAC,MAAM,KAAK,QAAQ,EAAE;QAC7B,OAAO,KAAK,CAAC;KACd;IACD,QAAQ,KAAK,CAAC,KAAK,EAAE;QACnB,KAAK,QAAQ;YACX,OAAO,IAAI,CAAC;QAEd,KAAK,WAAW,CAAC,CAAC;YAChB,QAAQ,KAAK,CAAC,gBAAgB,EAAE;gBAC9B,KAAK,SAAS;oBACZ,OAAO,IAAI,CAAC;gBACd,KAAK,aAAa;oBAChB,OAAO,KAAK,CAAC;gBACf,KAAK,IAAI;oBACP,OAAO,IAAI,CAAC;gBACd;oBACE,WAAW,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;aACvC;YACD,OAAO,IAAI,CAAC;SACb;QACD,KAAK,WAAW,CAAC,CAAC;YAChB,QAAQ,KAAK,CAAC,gBAAgB,EAAE;gBAC9B,KAAK,SAAS;oBACZ,OAAO,IAAI,CAAC;gBACd,KAAK,aAAa;oBAChB,OAAO,KAAK,CAAC;gBACf,KAAK,IAAI;oBACP,OAAO,KAAK,CAAC;gBACf;oBACE,WAAW,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;aACvC;YACD,OAAO,KAAK,CAAC;SACd;QACD,KAAK,SAAS;YACZ,OAAO,KAAK,CAAC;QACf;YACE,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KAC5B;AACH,CAAC\"}","dtsmap":{"name":"/Users/edouardwautier/Projects/dust/types/node_modules/.cache/rollup-plugin-typescript2/placeholder/front/assistant/agent.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"agent.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/front/assistant/agent.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,8BAA8B,EAAE,MAAM,wCAAwC,CAAC;AACxF,OAAO,EAAE,2BAA2B,EAAE,MAAM,4CAA4C,CAAC;AACzF,OAAO,EAAE,0BAA0B,EAAE,MAAM,yCAAyC,CAAC;AACrF,OAAO,EAAE,cAAc,EAAE,MAAM,2BAA2B,CAAC;AAC3D,OAAO,EAAE,OAAO,EAAE,MAAM,uBAAuB,CAAC;AAGhD;;GAEG;AAKH,MAAM,MAAM,4BAA4B,GACpC,0BAA0B,GAC1B,2BAA2B,GAC3B,8BAA8B,CAAC;AAsBnC,MAAM,MAAM,wBAAwB,GAAG;IACrC,IAAI,EAAE,MAAM,CAAC;IACb,WAAW,EAAE,MAAM,CAAC;IACpB,MAAM,EAAE;QACN,IAAI,EAAE,MAAM,CAAC;QACb,WAAW,EAAE,MAAM,CAAC;QACpB,IAAI,EAAE,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC;KACvC,EAAE,CAAC;CACL,CAAC;AAEF;;GAEG;AAEH,MAAM,MAAM,gCAAgC,GAAG;IAC7C,EAAE,EAAE,OAAO,CAAC;IACZ,MAAM,EAAE,MAAM,CAAC;IACf,KAAK,EAAE,cAAc,CAAC;IACtB,WAAW,EAAE,MAAM,CAAC;CACrB,CAAC;AAEF;;GAEG;AAEH,MAAM,MAAM,iBAAiB,GACzB,QAAQ,GACR,mBAAmB,GACnB,6BAA6B,GAC7B,yBAAyB,CAAC;AAC9B,MAAM,MAAM,WAAW,GAAG,QAAQ,GAAG,UAAU,CAAC;AAChD,MAAM,MAAM,wBAAwB,GAAG,WAAW,GAAG,iBAAiB,CAAC;AAEvE;;;;;;GAMG;AACH,MAAM,MAAM,uBAAuB,GAC/B,QAAQ,GACR,WAAW,GACX,WAAW,GACX,SAAS,CAAC;AAId,MAAM,MAAM,yBAAyB,GAAG,SAAS,GAAG,aAAa,CAAC;AAElE;;;;;;;;;GASG;AAEH,MAAM,MAAM,iBAAiB,GACzB,MAAM,GACN;IAAE,cAAc,EAAE,MAAM,CAAA;CAAE,GAC1B,KAAK,GACL,WAAW,GACX,WAAW,GACX,MAAM,GACN,YAAY,CAAC;AAEjB,MAAM,MAAM,sBAAsB,GAAG;IACnC,EAAE,EAAE,OAAO,CAAC;IAEZ,GAAG,EAAE,MAAM,CAAC;IACZ,OAAO,EAAE,MAAM,CAAC;IAEhB,KAAK,EAAE,uBAAuB,CAAC;IAC/B,gBAAgB,EAAE,yBAAyB,GAAG,IAAI,CAAC;IACnD,MAAM,EAAE,wBAAwB,CAAC;IAEjC,IAAI,EAAE,MAAM,CAAC;IACb,WAAW,EAAE,MAAM,CAAC;IACpB,UAAU,EAAE,MAAM,CAAC;IAInB,MAAM,EAAE,4BAA4B,GAAG,IAAI,CAAC;IAG5C,UAAU,EAAE,gCAAgC,GAAG,IAAI,CAAC;CACrD,CAAC;AAEF,wBAAgB,0BAA0B,CACxC,KAAK,EAAE,sBAAsB,GAC5B,OAAO,CAuCT\"}"},"dts":{"name":"/Users/edouardwautier/Projects/dust/types/node_modules/.cache/rollup-plugin-typescript2/placeholder/front/assistant/agent.d.ts","writeByteOrderMark":false,"text":"import { DatabaseQueryConfigurationType } from \"../../front/assistant/actions/database\";\nimport { DustAppRunConfigurationType } from \"../../front/assistant/actions/dust_app_run\";\nimport { RetrievalConfigurationType } from \"../../front/assistant/actions/retrieval\";\nimport { SupportedModel } from \"../../front/lib/assistant\";\nimport { ModelId } from \"../../shared/model_id\";\n/**\n * Agent Action configuration\n */\nexport type AgentActionConfigurationType = RetrievalConfigurationType | DustAppRunConfigurationType | DatabaseQueryConfigurationType;\nexport type AgentActionSpecification = {\n    name: string;\n    description: string;\n    inputs: {\n        name: string;\n        description: string;\n        type: \"string\" | \"number\" | \"boolean\";\n    }[];\n};\n/**\n * Agent Message configuration\n */\nexport type AgentGenerationConfigurationType = {\n    id: ModelId;\n    prompt: string;\n    model: SupportedModel;\n    temperature: number;\n};\n/**\n * Agent configuration\n */\nexport type GlobalAgentStatus = \"active\" | \"disabled_by_admin\" | \"disabled_missing_datasource\" | \"disabled_free_workspace\";\nexport type AgentStatus = \"active\" | \"archived\";\nexport type AgentConfigurationStatus = AgentStatus | GlobalAgentStatus;\n/**\n * Agent configuration scope\n * - 'global' scope are Dust assistants, not editable, inside-list for all, cannot be overriden\n * - 'workspace' scope are editable by builders only,  inside-list by default but user can change it\n * - 'published' scope are editable by everybody, outside-list by default\n * - 'private' scope are editable by author only, inside-list for author, cannot be overriden (so no entry in the table\n */\nexport type AgentConfigurationScope = \"global\" | \"workspace\" | \"published\" | \"private\";\nexport type AgentRelationOverrideType = \"in-list\" | \"not-in-list\";\n/**\n * Agents can be retrieved according to different 'views':\n * - list: all agents in the user's list\n * - conversation: all agents in the user's list + agents in the current\n *   conversation (requries a conversation sId)\n * - all: workspace + published agents (not private ones), eg. for agent gallery\n * - superuser: all agents, including private ones => CAREFUL. Currently used by\n *   poke only\n * Global agents enabled for the workspace are always returned with all the views.\n */\nexport type AgentsGetViewType = \"list\" | {\n    conversationId: string;\n} | \"all\" | \"workspace\" | \"published\" | \"dust\" | \"super_user\";\nexport type AgentConfigurationType = {\n    id: ModelId;\n    sId: string;\n    version: number;\n    scope: AgentConfigurationScope;\n    relationOverride: AgentRelationOverrideType | null;\n    status: AgentConfigurationStatus;\n    name: string;\n    description: string;\n    pictureUrl: string;\n    action: AgentActionConfigurationType | null;\n    generation: AgentGenerationConfigurationType | null;\n};\nexport declare function isAgentConfigurationInList(agent: AgentConfigurationType): boolean;\n//# sourceMappingURL=agent.d.ts.map"}}
