{"code":"let once = false;\nexport function setupGlobalErrorHandler(logger) {\n    if (once) {\n        logger.info({}, \"Global error handler already setup\");\n        return;\n    }\n    once = true;\n    process.on(\"unhandledRejection\", (reason, promise) => {\n        logger.error({ promise, reason, panic: true }, \"Unhandled Rejection\");\n    });\n    process.on(\"uncaughtException\", (error) => {\n        logger.error({ error, panic: true }, \"Uncaught Exception\");\n    });\n}\n//# sourceMappingURL=global_error_handler.js.map","references":["/Users/edouardwautier/Projects/dust/types/src/shared/logger.ts"],"map":"{\"version\":3,\"file\":\"global_error_handler.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/shared/utils/global_error_handler.ts\"],\"names\":[],\"mappings\":\"AAEA,IAAI,IAAI,GAAG,KAAK,CAAC;AAEjB,MAAM,UAAU,uBAAuB,CAAC,MAAuB;IAC7D,IAAI,IAAI,EAAE;QACR,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,oCAAoC,CAAC,CAAC;QACtD,OAAO;KACR;IACD,IAAI,GAAG,IAAI,CAAC;IACZ,OAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,EAAE;QACnD,MAAM,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,qBAAqB,CAAC,CAAC;IACxE,CAAC,CAAC,CAAC;IAEH,OAAO,CAAC,EAAE,CAAC,mBAAmB,EAAE,CAAC,KAAK,EAAE,EAAE;QACxC,MAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,oBAAoB,CAAC,CAAC;IAC7D,CAAC,CAAC,CAAC;AACL,CAAC\"}"}
