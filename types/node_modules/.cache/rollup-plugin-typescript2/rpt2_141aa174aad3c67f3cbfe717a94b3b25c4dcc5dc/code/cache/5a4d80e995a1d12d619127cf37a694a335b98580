{"code":"import { isLeft } from \"fp-ts/lib/Either\";\nimport * as t from \"io-ts\";\nimport * as reporter from \"io-ts-reporters\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Err, Ok } from \"../../shared/result\";\nexport function ioTsEnum(enumValues, enumName) {\n    const isEnumValue = (input) => enumValues.includes(input);\n    return new t.Type(enumName || uuidv4(), isEnumValue, (input, context) => isEnumValue(input) ? t.success(input) : t.failure(input, context), t.identity);\n}\n// Defines a function to generate a branded codec for validating numbers within a specific range.\nexport function createRangeCodec(min, max) {\n    return t.brand(t.number, (n) => n >= min && n <= max, \"Range\");\n}\nexport const SlugifiedString = t.brand(t.string, (s) => /^[a-z0-9_]+$/.test(s), \"SlugifiedString\");\nexport function ioTsParsePayload(payload, codec) {\n    const bodyValidation = codec.decode(payload);\n    if (isLeft(bodyValidation)) {\n        const pathError = reporter.formatValidationErrors(bodyValidation.left);\n        return new Err(pathError);\n    }\n    return new Ok(bodyValidation.right);\n}\n//# sourceMappingURL=iots_utils.js.map","references":["/Users/edouardwautier/Projects/dust/types/node_modules/fp-ts/lib/Either.d.ts","/Users/edouardwautier/Projects/dust/types/node_modules/io-ts/lib/index.d.ts","/Users/edouardwautier/Projects/dust/types/node_modules/io-ts-reporters/target/src/index.d.ts","/Users/edouardwautier/Projects/dust/types/node_modules/@types/uuid/index.d.ts","/Users/edouardwautier/Projects/dust/types/src/shared/result.ts"],"map":"{\"version\":3,\"file\":\"iots_utils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/shared/utils/iots_utils.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,KAAK,CAAC,MAAM,OAAO,CAAC;AAC3B,OAAO,KAAK,QAAQ,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,EAAE,IAAI,MAAM,EAAE,MAAM,MAAM,CAAC;AAEpC,OAAO,EAAE,GAAG,EAAE,EAAE,EAAU,MAAM,qBAAqB,CAAC;AAEtD,MAAM,UAAU,QAAQ,CACtB,UAA6B,EAC7B,QAAiB;IAEjB,MAAM,WAAW,GAAG,CAAC,KAAc,EAAqB,EAAE,CACxD,UAAU,CAAC,QAAQ,CAAC,KAAe,CAAC,CAAC;IAEvC,OAAO,IAAI,CAAC,CAAC,IAAI,CACf,QAAQ,IAAI,MAAM,EAAE,EACpB,WAAW,EACX,CAAC,KAAK,EAAE,OAAO,EAAE,EAAE,CACjB,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,EACnE,CAAC,CAAC,QAAQ,CACX,CAAC;AACJ,CAAC;AAMD,iGAAiG;AACjG,MAAM,UAAU,gBAAgB,CAAC,GAAW,EAAE,GAAW;IACvD,OAAO,CAAC,CAAC,KAAK,CACZ,CAAC,CAAC,MAAM,EACR,CAAC,CAAC,EAAwC,EAAE,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,EACjE,OAAO,CACR,CAAC;AACJ,CAAC;AAMD,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,CAAC,KAAK,CACpC,CAAC,CAAC,MAAM,EACR,CAAC,CAAC,EAAgD,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAC3E,iBAAiB,CAClB,CAAC;AAEF,MAAM,UAAU,gBAAgB,CAC9B,OAAgB,EAChB,KAAgB;IAEhB,MAAM,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC7C,IAAI,MAAM,CAAC,cAAc,CAAC,EAAE;QAC1B,MAAM,SAAS,GAAG,QAAQ,CAAC,sBAAsB,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QACvE,OAAO,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;KAC3B;IAED,OAAO,IAAI,EAAE,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;AACtC,CAAC\"}"}
