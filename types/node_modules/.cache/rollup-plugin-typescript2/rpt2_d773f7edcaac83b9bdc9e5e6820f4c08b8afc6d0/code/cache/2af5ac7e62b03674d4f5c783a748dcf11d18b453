{"code":"import * as t from \"io-ts\";\nimport { nonEmptyArray } from \"io-ts-types/lib/nonEmptyArray\";\nimport { NonEmptyString } from \"io-ts-types/lib/NonEmptyString\";\nimport { assertNever } from \"../../shared/utils/assert_never\";\nimport { ioTsEnum } from \"../../shared/utils/iots_utils\";\nimport { AssistantCreativityLevelCodec } from \"./builder\";\nexport const TEMPLATES_TAG_CODES = [\n    \"CONTENT\",\n    \"DATA\",\n    \"DESIGN\",\n    \"ENGINEERING\",\n    \"FINANCE\",\n    \"HIRING\",\n    \"MARKETING\",\n    \"OPERATIONS\",\n    \"PRODUCT\",\n    \"PRODUCT_MANAGEMENT\",\n    \"PRODUCTIVITY\",\n    \"SALES\",\n    \"UX_DESIGN\",\n    \"UX_RESEARCH\",\n    \"WRITING\",\n];\nexport const TEMPLATES_TAGS_CONFIG = {\n    CONTENT: {\n        label: \"Content\",\n    },\n    DATA: {\n        label: \"Data\",\n    },\n    DESIGN: {\n        label: \"Design\",\n    },\n    ENGINEERING: {\n        label: \"Engineering\",\n    },\n    FINANCE: {\n        label: \"Finance\",\n    },\n    HIRING: {\n        label: \"Hiring\",\n    },\n    MARKETING: {\n        label: \"Marketing\",\n    },\n    OPERATIONS: {\n        label: \"Operations\",\n    },\n    PRODUCT: {\n        label: \"Product\",\n    },\n    PRODUCT_MANAGEMENT: {\n        label: \"Product Management\",\n    },\n    PRODUCTIVITY: {\n        label: \"Productivity\",\n    },\n    SALES: {\n        label: \"Sales\",\n    },\n    UX_DESIGN: {\n        label: \"UX Design\",\n    },\n    UX_RESEARCH: {\n        label: \"UX Research\",\n    },\n    WRITING: {\n        label: \"Writing\",\n    },\n};\nexport function isTemplateTagCodeArray(value) {\n    return (Array.isArray(value) && value.every((v) => TEMPLATES_TAG_CODES.includes(v)));\n}\nexport const ACTION_PRESETS = {\n    reply: \"Reply only\",\n    dust_app_run_configuration: \"Run Dust app\",\n    retrieval_configuration: \"Search data sources\",\n    tables_query_configuration: \"Query tables\",\n    process_configuration: \"Process data sources\",\n};\nexport const ActionPresetCodec = ioTsEnum(Object.keys(ACTION_PRESETS), \"ActionPreset\");\nexport const TEMPLATE_VISIBILITIES = [\n    \"draft\",\n    \"published\",\n    \"disabled\",\n];\nexport const TemplateVisibilityCodec = ioTsEnum(TEMPLATE_VISIBILITIES, \"TemplateVisibility\");\nconst TemplateTagCodeTypeCodec = t.keyof({\n    ...TEMPLATES_TAGS_CONFIG,\n});\nexport const CreateTemplateFormSchema = t.type({\n    backgroundColor: NonEmptyString,\n    description: t.union([t.string, t.undefined]),\n    emoji: NonEmptyString,\n    handle: NonEmptyString,\n    helpActions: t.union([t.string, t.undefined]),\n    helpInstructions: t.union([t.string, t.undefined]),\n    presetAction: ActionPresetCodec,\n    presetInstructions: t.union([t.string, t.undefined]),\n    presetModelId: t.string,\n    presetTemperature: AssistantCreativityLevelCodec,\n    tags: nonEmptyArray(TemplateTagCodeTypeCodec),\n    visibility: TemplateVisibilityCodec,\n});\nexport function getAgentActionConfigurationType(action) {\n    switch (action) {\n        case \"reply\":\n            return null;\n        case \"retrieval_configuration\":\n            return {\n                dataSources: [],\n                id: -1,\n                query: \"auto\",\n                relativeTimeFrame: \"auto\",\n                sId: \"template\",\n                topK: \"auto\",\n                type: \"retrieval_configuration\",\n                name: \"search_data_sources\",\n                description: \"Search the workspace's internal data sources.\",\n                forceUseAtIteration: 0,\n            };\n        case \"tables_query_configuration\":\n            return {\n                id: -1,\n                sId: \"template\",\n                tables: [],\n                type: \"tables_query_configuration\",\n                name: \"query_tables\",\n                description: \"Query the workspace's internal tables.\",\n                forceUseAtIteration: 0,\n            };\n        case \"dust_app_run_configuration\":\n            return {\n                id: -1,\n                sId: \"template\",\n                type: \"dust_app_run_configuration\",\n                appWorkspaceId: \"template\",\n                appId: \"template\",\n                name: \"run_dust_app\",\n                description: \"Run a Dust app.\",\n                forceUseAtIteration: 0,\n            };\n        case \"process_configuration\":\n            return {\n                dataSources: [],\n                id: -1,\n                relativeTimeFrame: \"auto\",\n                sId: \"template\",\n                schema: [],\n                type: \"process_configuration\",\n                name: \"process_data_sources\",\n                description: \"Process the workspace's internal data sources.\",\n                forceUseAtIteration: 0,\n            };\n        default:\n            assertNever(action);\n    }\n}\n//# sourceMappingURL=templates.js.map","references":["/Users/edouardwautier/Projects/dust/types/node_modules/io-ts/lib/index.d.ts","/Users/edouardwautier/Projects/dust/types/node_modules/io-ts-types/lib/nonEmptyArray.d.ts","/Users/edouardwautier/Projects/dust/types/node_modules/io-ts-types/lib/NonEmptyString.d.ts","/Users/edouardwautier/Projects/dust/types/src/shared/utils/assert_never.ts","/Users/edouardwautier/Projects/dust/types/src/shared/utils/iots_utils.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/dust_app_run.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/process.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/retrieval.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/actions/tables_query.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/agent.ts","/Users/edouardwautier/Projects/dust/types/src/front/assistant/builder.ts"],"map":"{\"version\":3,\"file\":\"templates.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/front/assistant/templates.ts\"],\"names\":[],\"mappings\":\"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\"}"}
